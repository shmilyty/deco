
# ğŸ„ Deco Tree (Christmas Time Capsule)

<div align="center">
  <img src="https://img.shields.io/badge/Vue.js-3.0-4FC08D?style=flat&logo=vue.js" alt="Vue 3" />
  <img src="https://img.shields.io/badge/Node.js-Express-green?style=flat&logo=node.js" alt="Node.js" />
  <img src="https://img.shields.io/badge/Database-SQLite-003B57?style=flat&logo=sqlite" alt="SQLite" />
  <img src="https://img.shields.io/badge/License-MIT-blue" alt="License" />
</div>
<br />

> ğŸ ä¸€ä¸ªå……æ»¡èŠ‚æ—¥æ°›å›´çš„â€œæ•°å­—æ—¶é—´èƒ¶å›Šâ€ã€‚åœ¨è¿™ä¸ªä¸‹é›ªçš„å†¬å¤œï¼Œç»™åœ£è¯æ ‘æŒ‚ä¸Šä½ çš„ç¥ç¦ï¼Œé™å¾…åœ£è¯èŠ‚è§£é”ã€‚

## ğŸ“– é¡¹ç›®ç®€ä»‹ (Introduction)

**Deco Tree** æ˜¯ä¸€ä¸ªå…¨æ ˆäº’åŠ¨çš„åœ£è¯ä¸»é¢˜ç½‘é¡µåº”ç”¨ã€‚ç”¨æˆ·å¯ä»¥é€‰æ‹©ç²¾ç¾çš„å›¾æ ‡ã€ä¸Šä¼ ç…§ç‰‡å¹¶å†™ä¸‹ç¥ç¦æŒ‚åœ¨è™šæ‹Ÿçš„åœ£è¯æ ‘ä¸Šã€‚

æœ€æœ‰æ„æ€çš„æ˜¯å®ƒçš„ **â€œæ—¶é—´èƒ¶å›Šâ€** æœºåˆ¶ï¼šæ‰€æœ‰ç•™è¨€åœ¨ **12æœˆ25æ—¥** ä¹‹å‰éƒ½æ˜¯â€œå°å°â€çŠ¶æ€ï¼ˆå†…å®¹è¢«åŠ å¯†éšè—ï¼‰ï¼Œåªæœ‰åˆ°äº†åœ£è¯èŠ‚å½“å¤©ï¼Œæ‰€æœ‰çš„ç¥ç¦æ‰ä¼šè‡ªåŠ¨è§£å°ï¼Œä¾›å¤§å®¶æŸ¥é˜…ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½ (Features)

* **ğŸ„ äº’åŠ¨åœ£è¯æ ‘**ï¼šç‚¹å‡»æ ‘æ¢¢å³å¯æŒ‚ä¸Šç¤¼ç‰©ï¼Œæ”¯æŒåŠ¨æ€å¢åŠ æ–°æ ‘ï¼ˆåˆ†é¡µæŸ¥çœ‹ï¼‰ã€‚
* **ğŸ”’ æ—¶é—´å°å° (Time Lock)**ï¼š
    * åœ£è¯èŠ‚å‰ï¼šç•™è¨€å†…å®¹è¢« AES åŠ å¯†ï¼ŒUI æ˜¾ç¤ºä¸ºâ€œå°å°ä¸­â€ã€‚
    * åœ£è¯èŠ‚åï¼šè‡ªåŠ¨è§£å¯†ï¼Œå±•ç¤ºå®Œæ•´ç¥ç¦å’Œå›¾ç‰‡ã€‚
* **ğŸ“¸ å¤šåª’ä½“æ”¯æŒ**ï¼šæ”¯æŒä¸Šä¼ å›¾ç‰‡ï¼ˆæœ€å¤š3å¼ ï¼‰ï¼Œå¸¦æœ‰é¢„è§ˆå’Œå‹ç¼©åŠŸèƒ½ã€‚
* **ğŸ¨ æ²‰æµ¸å¼ UI**ï¼š
    * å…¨å±é›ªèŠ±ç‰¹æ•ˆ & æš–è‰²è°ƒæ¸å˜èƒŒæ™¯ã€‚
    * ç²¾ç¾çš„æ¯›ç»ç’ƒ (Glassmorphism) å¡ç‰‡è®¾è®¡ã€‚
    * 3D ç¿»è½¬å¡ç‰‡äº¤äº’ï¼ˆå¡«å†™é¢/é¢„è§ˆé¢ï¼‰ã€‚
    * å·¦ä¸Šè§’åœ£è¯å€’è®¡æ—¶ï¼ˆå¸¦å…¥åœºåŠ¨ç”»ï¼‰ã€‚
* **ğŸ“± å®Œç¾ç§»åŠ¨ç«¯é€‚é…**ï¼š
    * è§£å†³ iOS/Android æ»šåŠ¨å›å¼¹é—®é¢˜ã€‚
    * ä¸“æ³¨æ¨¡å¼ï¼šç§»åŠ¨ç«¯å†™ä¿¡æ—¶è‡ªåŠ¨éšè—å¹²æ‰°å…ƒç´ ã€‚
    * æµå¼å¸ƒå±€é€‚é…å„ç§å°ºå¯¸å±å¹•ã€‚
* **ğŸ¥š éšè—å½©è›‹**ï¼šåˆ‡æ¢å›¾æ ‡æ—¶æœ‰ 2% æ¦‚ç‡è§¦å‘ç‰¹æ®Šå‘å…‰å›¾æ ‡ã€‚

## ğŸ›  æŠ€æœ¯æ ˆ (Tech Stack)

* **å‰ç«¯**ï¼šVue 3 (Composition API), Vite, CSS3 (Animations, Grid/Flex)
* **åç«¯**ï¼šNode.js, Express, Multer (æ–‡ä»¶ä¸Šä¼ )
* **æ•°æ®åº“**ï¼šSQLite, Prisma ORM
* **éƒ¨ç½²**ï¼šPM2, Caddy (è‡ªåŠ¨ HTTPS), Cloudflare

## ğŸš€ æœ¬åœ°å¼€å‘ (Local Development)

### 1. å…‹éš†é¡¹ç›®
```bash
git clone [https://github.com/ä½ çš„ç”¨æˆ·å/deco-tree.git](https://github.com/ä½ çš„ç”¨æˆ·å/deco-tree.git)
cd deco-tree
```

### 2. å®‰è£…ä¾èµ–

éœ€è¦åˆ†åˆ«å®‰è£…æ ¹ç›®å½•ï¼ˆå‰ç«¯ï¼‰å’Œ `server` ç›®å½•ï¼ˆåç«¯ï¼‰çš„ä¾èµ–ã€‚

Bash

```
# å®‰è£…å‰ç«¯ä¾èµ–
npm install

# å®‰è£…åç«¯ä¾èµ–
cd server
npm install
```

### 3. é…ç½®æ•°æ®åº“

ç¡®ä¿åœ¨ `server` ç›®å½•ä¸‹ã€‚

Bash

```
# ç”Ÿæˆ Prisma Client
npx prisma generate

# è¿è¡Œæ•°æ®åº“è¿ç§» (åˆ›å»º dev.db)
npx prisma migrate dev --name init
```

### 4. å¯åŠ¨é¡¹ç›®

ä½ éœ€è¦æ‰“å¼€ä¸¤ä¸ªç»ˆç«¯çª—å£ï¼š

- **ç»ˆç«¯ 1 (åç«¯)**ï¼š

  Bash

  ```
  cd server
  node index.js
  ```

- **ç»ˆç«¯ 2 (å‰ç«¯)**ï¼š

  Bash

  ```
  # å›åˆ°æ ¹ç›®å½•
  npm run dev
  ```

è®¿é—® `http://localhost:5173` å³å¯çœ‹åˆ°æ•ˆæœã€‚

------

## â˜ï¸ æœåŠ¡å™¨éƒ¨ç½²æŒ‡å— (Deployment)

æœ¬é¡¹ç›®æ¨èä½¿ç”¨ **Ubuntu + PM2 + Caddy** è¿›è¡Œéƒ¨ç½²ã€‚

### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿æœåŠ¡å™¨å·²å®‰è£… Node.js (v20+) å’Œ PM2ã€‚

Bash

```
# å®‰è£… Node.js
curl -fsSL [https://deb.nodesource.com/setup_20.x](https://deb.nodesource.com/setup_20.x) | sudo -E bash -
sudo apt-get install -y nodejs

# å®‰è£… PM2
sudo npm install -g pm2
```

### 2. éƒ¨ç½²ä»£ç 

å°†ä»£ç ä¸Šä¼ è‡³æœåŠ¡å™¨ `/var/www/decotree`ï¼ˆç¤ºä¾‹è·¯å¾„ï¼‰ã€‚

Bash

```
cd /var/www/decotree
npm install
cd server
npm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

åœ¨ `server` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼š

ä»£ç æ®µ

```
DATABASE_URL="file:./prod.db"
SECRET_KEY="è¿™é‡Œå¡«å†™ä¸€ä¸ªå¤æ‚çš„éšæœºå­—ç¬¦ä¸²ä½œä¸ºåŠ å¯†å¯†é’¥"
```

åˆå§‹åŒ–ç”Ÿäº§ç¯å¢ƒæ•°æ®åº“ï¼š

Bash

```
npx prisma generate
npx prisma migrate deploy
```

### 4. æ„å»ºå‰ç«¯

åç«¯é…ç½®äº†é™æ€æ‰˜ç®¡ `../dist`ï¼Œæ‰€ä»¥éœ€è¦å…ˆæ„å»ºå‰ç«¯ã€‚

Bash

```
# åœ¨é¡¹ç›®æ ¹ç›®å½•
npm run build
```

### 5. å¯åŠ¨æœåŠ¡ (PM2)

Bash

```
cd server
pm2 start index.js --name "decotree"
pm2 save
pm2 startup
```

### 6. é…ç½®åå‘ä»£ç† (Caddy)

ä½¿ç”¨ Caddy å¤„ç† HTTPS å’Œè·¯å¾„è½¬å‘ï¼ˆå‡è®¾æŒ‚è½½åœ¨ `/tree/` å­è·¯å¾„ï¼‰ã€‚

`/etc/caddy/Caddyfile`:

ä»£ç æ®µ

```
your-domain.com {
    # å¦‚æœä½¿ç”¨ Cloudflare æºæœåŠ¡å™¨è¯ä¹¦
    tls /etc/caddy/cert.pem /etc/caddy/key.pem

    # å°† /tree/ è·¯å¾„è½¬å‘ç»™ Node.js åç«¯
    handle_path /tree/* {
        reverse_proxy localhost:3000
    }

    # å…œåº•é‡å®šå‘
    handle {
        redir [https://your-domain.com/tree/](https://your-domain.com/tree/) 301
    }
}
```

é‡å¯ Caddyï¼š`sudo systemctl reload caddy`

------

## ğŸ“‚ ç›®å½•ç»“æ„

Plaintext

```
deco-tree/
â”œâ”€â”€ dist/               # å‰ç«¯æ„å»ºäº§ç‰© (Vueæ‰“åŒ…å)
â”œâ”€â”€ public/             # é™æ€èµ„æº (å›¾æ ‡ã€å›¾ç‰‡)
â”œâ”€â”€ src/                # å‰ç«¯æºä»£ç 
â”‚   â”œâ”€â”€ components/     # ç»„ä»¶ (ChristmasTree, Card, Countdown...)
â”‚   â”œâ”€â”€ views/          # é¡µé¢ (Home, About)
â”‚   â””â”€â”€ ...
â”œâ”€â”€ server/             # åç«¯æºä»£ç 
â”‚   â”œâ”€â”€ prisma/         # æ•°æ®åº“ Schema å’Œ SQLite æ–‡ä»¶
â”‚   â”œâ”€â”€ uploads/        # ç”¨æˆ·ä¸Šä¼ çš„å›¾ç‰‡å­˜å‚¨ç›®å½•
â”‚   â””â”€â”€ index.js        # Express å…¥å£æ–‡ä»¶
â””â”€â”€ vite.config.js      # Vite é…ç½®
```

## ğŸ¤ è´¡çŒ® (Contributing)

å¦‚æœä½ æœ‰å¥½çš„ç‚¹å­ï¼ˆæ¯”å¦‚çƒŸèŠ±ç‰¹æ•ˆï¼Œæˆ–æ˜¯è´¦å·ç»‘å®šï¼‰ï¼Œæ¬¢è¿æäº¤ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. æ–°å»ºåˆ†æ”¯ `git checkout -b feature/NewFeature`
3. æäº¤æ›´æ”¹ `git commit -m 'Add some feature'`
4. æ¨é€åˆ°åˆ†æ”¯ `git push origin feature/NewFeature`
5. æäº¤ Pull Request

## ğŸ“„ License

- æœ¬é¡¹ç›®ä½¿ç”¨ GNU General Public License v3.0
